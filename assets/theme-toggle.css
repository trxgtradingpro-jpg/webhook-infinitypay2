:root {
  --theme-toggle-bg: rgba(8, 14, 24, 0.88);
  --theme-toggle-border: rgba(207, 222, 241, 0.24);
  --theme-toggle-text: #e9f2ff;
}

/* =========================
   DARK THEME TOKENS (faltava)
   ========================= */
html[data-theme="dark"] {
  color-scheme: dark;

  /* tokens base (para componentes que usam var(--bg), etc) */
  --bg: #070b12;
  --bg2: #05070a;
  --text: #eaf2ff;
  --txt: #eaf2ff;
  --muted: rgba(234, 242, 255, 0.70);
  --muted2: rgba(234, 242, 255, 0.58);
  --stroke: rgba(148, 163, 184, 0.18);
  --stroke2: rgba(148, 163, 184, 0.24);
  --line: rgba(148, 163, 184, 0.20);
  --line2: rgba(148, 163, 184, 0.26);
  --grid: rgba(255, 255, 255, 0.08);
  --panel: rgba(2, 6, 23, 0.66);
  --panel-strong: rgba(2, 6, 23, 0.78);
  --card: rgba(2, 6, 23, 0.62);
  --bg-soft: rgba(255, 255, 255, 0.06);
  --border: rgba(148, 163, 184, 0.24);
  --border-soft: rgba(148, 163, 184, 0.14);
  --text-main: #eaf2ff;
  --text-muted: rgba(234, 242, 255, 0.70);
  --blue: #4aa3ff;
  --blue-soft: rgba(74, 163, 255, 0.80);
  --shadow: 0 22px 70px rgba(0, 0, 0, 0.35);
}

/* =========================
   LIGHT THEME TOKENS (já tinha)
   ========================= */
html[data-theme="light"] {
  color-scheme: light;
  --bg: #eef3f9;
  --bg2: #ffffff;
  --text: #0f172a;
  --txt: #0f172a;
  --muted: rgba(15, 23, 42, 0.68);
  --muted2: rgba(15, 23, 42, 0.56);
  --stroke: rgba(15, 23, 42, 0.12);
  --stroke2: rgba(15, 23, 42, 0.18);
  --line: rgba(15, 23, 42, 0.18);
  --line2: rgba(15, 23, 42, 0.22);
  --grid: rgba(15, 23, 42, 0.08);
  --panel: #ffffff;
  --panel-strong: #f3f8ff;
  --card: #ffffff;
  --bg-soft: #f4f8fd;
  --border: rgba(15, 23, 42, 0.16);
  --border-soft: rgba(15, 23, 42, 0.08);
  --text-main: #0f172a;
  --text-muted: #475569;
  --blue: #1d4ed8;
  --blue-soft: #2563eb;
  --shadow: 0 18px 48px rgba(15, 23, 42, 0.14);
  --theme-toggle-bg: rgba(255, 255, 255, 0.94);
  --theme-toggle-border: rgba(15, 23, 42, 0.2);
  --theme-toggle-text: #0f172a;
}

html.theme-transition,
html.theme-transition * {
  transition: background-color 0.24s ease, color 0.24s ease, border-color 0.24s ease, box-shadow 0.24s ease;
}

/* =========================
   BODY BACKGROUND POR TEMA
   ========================= */
html[data-theme="dark"] body {
  background:
    radial-gradient(1000px 620px at 12% 0%, rgba(35, 176, 11, 0.16), transparent 62%),
    radial-gradient(980px 620px at 88% 10%, rgba(74, 163, 255, 0.12), transparent 62%),
    linear-gradient(180deg, #05070a 0%, #070b12 50%, #05070a 100%) !important;
  color: #eef6ff !important;
}

html[data-theme="light"] body {
  background:
    radial-gradient(1200px 700px at 12% 0%, rgba(74, 163, 255, 0.14), transparent 62%),
    radial-gradient(980px 620px at 88% 8%, rgba(35, 176, 11, 0.1), transparent 64%),
    linear-gradient(180deg, #edf3f9 0%, #f8fbff 50%, #edf3f9 100%) !important;
  color: #0f172a !important;
}

/* =========================
   CARDS / PAINÉIS POR TEMA
   (inclui PROOF AUDITÁVEL)
   ========================= */
html[data-theme="dark"] :is(
  .checkout-container,
  .card,
  .panel,
  .box,
  .item,
  .table-wrap,
  .stat,
  .faq-shell,
  .proof-shell,
  .how-shell,
  .free-shell,
  .monthly-shell,
  .chart,
  .quiz-card,
  .auth-card,
  .wa-panel,
  .site-trust-item,
  .bitem,
  .proof-audit,
  .proof-audit-card
) {
  background: linear-gradient(180deg, rgba(11, 18, 36, 0.95), rgba(8, 13, 24, 0.97)) !important;
  border-color: rgba(148, 163, 184, 0.28) !important;
  color: #eaf2ff !important;
  box-shadow: var(--shadow) !important;
}

html[data-theme="light"] :is(
  .checkout-container,
  .card,
  .panel,
  .box,
  .item,
  .table-wrap,
  .stat,
  .faq-shell,
  .proof-shell,
  .how-shell,
  .free-shell,
  .monthly-shell,
  .chart,
  .quiz-card,
  .auth-card,
  .wa-panel,
  .site-trust-item,
  .bitem,
  .proof-audit,
  .proof-audit-card
) {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.95), rgba(247, 251, 255, 0.96)) !important;
  border-color: rgba(15, 23, 42, 0.16) !important;
  color: #0f172a !important;
  box-shadow: 0 14px 34px rgba(15, 23, 42, 0.12) !important;
}

/* =========================
   BRAND LOGO BACKGROUND POR TEMA
   ========================= */
html[data-theme="dark"] .brand img,
html[data-theme="dark"] .title-logo {
  border-color: rgba(255, 255, 255, 0.72) !important;
  background: rgba(6, 12, 20, 0.52) !important;
}

html[data-theme="light"] .brand img,
html[data-theme="light"] .title-logo {
  border-color: rgba(0, 0, 0, 0.76) !important;
  background: #000 !important;
}

/* =========================
   INPUTS POR TEMA
   ========================= */
html[data-theme="dark"] :is(input, select, textarea) {
  background: #0a1325 !important;
  border-color: rgba(148, 163, 184, 0.36) !important;
  color: #e9f2ff !important;
}

html[data-theme="light"] :is(input, select, textarea) {
  background: #f8fbff !important;
  border-color: rgba(15, 23, 42, 0.22) !important;
  color: #0f172a !important;
}

/* =========================
   TEXTOS LIGHT (mantive igual)
   ========================= */
html[data-theme="light"] :is(
  .muted,
  .sub,
  .subtitle,
  .site-rights,
  .site-legal,
  .foot,
  .meta,
  .email,
  .title-sub,
  .panel-subtitle,
  .tip,
  .card .label,
  .card .k,
  .report-period,
  .monthly-note,
  .proof-sub,
  .proof-micro,
  .proof-disclaimer
) {
  color: rgba(15, 23, 42, 0.84) !important;
}

html[data-theme="light"] :is(
  p,
  li,
  label,
  summary,
  small,
  td,
  th,
  .line,
  .line span,
  .notif-desc,
  .notif-empty,
  .wa-item-msg,
  .site-trust-item span,
  .faq-item p,
  .proof-card p,
  .how-step p
) {
  color: #1f2937 !important;
}

html[data-theme="light"] :is(
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  .headline .w,
  .proof-title,
  .monthly-title,
  .free-title,
  .faq-title,
  .notif-title,
  .report-month,
  .site-copy,
  .site-trust-item strong,
  .wa-panel-head strong
) {
  color: #0f172a !important;
}

/* =========================
   Kpis e tags light (mantive)
   ========================= */
html[data-theme="light"] .proof-kpi {
  background: rgba(15, 23, 42, 0.04) !important;
  border-color: rgba(15, 23, 42, 0.14) !important;
}

html[data-theme="light"] .proof-kpi .k-label {
  color: #334155 !important;
}

html[data-theme="light"] .proof-kpi .k-value.neutral {
  color: #334155 !important;
}

html[data-theme="light"] .proof-tags span {
  color: #334155 !important;
  border-color: rgba(15, 23, 42, 0.22) !important;
  background: rgba(15, 23, 42, 0.06) !important;
}

/* =========================
   FAQ light (mantive)
   ========================= */
html[data-theme="light"] .faq-list {
  gap: 10px !important;
}

html[data-theme="light"] .faq-item {
  border-color: rgba(0, 0, 0, 0.34) !important;
  background: rgba(255, 255, 255, 0.84) !important;
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.03) !important;
}

html[data-theme="light"] .faq-item summary {
  color: #0f172a !important;
  border-bottom: 1px solid rgba(0, 0, 0, 0.24) !important;
}

html[data-theme="light"] .faq-item p {
  color: #1f2937 !important;
}

/* =========================
   Pills light (mantive)
   ========================= */
html[data-theme="light"] .how-pill {
  color: #0b4f3a !important;
  border-color: rgba(13, 110, 83, 0.48) !important;
  background: linear-gradient(180deg, rgba(110, 231, 183, 0.34), rgba(52, 211, 153, 0.2)) !important;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.8), 0 6px 18px rgba(15, 23, 42, 0.08) !important;
}

html[data-theme="light"] .proof-pill,
html[data-theme="light"] .free-pill {
  color: #065f46 !important;
  border-color: rgba(34, 197, 94, 0.56) !important;
  background: linear-gradient(180deg, rgba(187, 247, 208, 0.56), rgba(134, 239, 172, 0.34)) !important;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.84), 0 8px 18px rgba(34, 197, 94, 0.2) !important;
}

html[data-theme="light"] .monthly-pill {
  color: #92400e !important;
  border-color: rgba(245, 158, 11, 0.58) !important;
  background: linear-gradient(180deg, rgba(254, 240, 138, 0.58), rgba(253, 186, 116, 0.32)) !important;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.8), 0 8px 18px rgba(245, 158, 11, 0.2) !important;
}

html[data-theme="light"] .quiz-nudge span,
html[data-theme="light"] .report-cumulative,
html[data-theme="light"] .report-gain.neutral {
  color: #334155 !important;
}

html[data-theme="light"] .report-cumulative.neutral strong {
  color: #1f2937 !important;
}

html[data-theme="light"] .price-bar {
  color: #1f2937 !important;
  border-color: rgba(239, 68, 68, 0.35) !important;
  background: linear-gradient(90deg, rgba(239, 68, 68, 0.12), rgba(15, 23, 42, 0.04)) !important;
}

html[data-theme="light"] .price-bar small,
html[data-theme="light"] .disclaimer {
  color: #334155 !important;
}

html[data-theme="light"] .disclaimer {
  background: rgba(255, 255, 255, 0.72) !important;
  border-color: rgba(15, 23, 42, 0.16) !important;
}

html[data-theme="light"] .site-seals span {
  color: #1f2937 !important;
  border-color: rgba(15, 23, 42, 0.2) !important;
  background: rgba(15, 23, 42, 0.06) !important;
}

html[data-theme="light"] .site-links a {
  color: #334155 !important;
}

html[data-theme="light"] .wrap .pill {
  color: #1e293b !important;
  background: rgba(15, 23, 42, 0.06) !important;
  border-color: rgba(15, 23, 42, 0.18) !important;
}

html[data-theme="light"] .wrap .pill.ok {
  color: #166534 !important;
  background: rgba(34, 197, 94, 0.14) !important;
  border-color: rgba(34, 197, 94, 0.4) !important;
}

html[data-theme="light"] .wrap .pill.warn {
  color: #b45309 !important;
  background: rgba(245, 158, 11, 0.16) !important;
  border-color: rgba(245, 158, 11, 0.44) !important;
}

html[data-theme="light"] .wrap .pill.bad {
  color: #991b1b !important;
  background: rgba(239, 68, 68, 0.14) !important;
  border-color: rgba(239, 68, 68, 0.44) !important;
}

html[data-theme="light"] .wrap .pill strong {
  color: inherit !important;
}

html[data-theme="light"] .status.ok {
  color: #14532d !important;
  background: rgba(34, 197, 94, 0.28) !important;
  border-color: rgba(22, 163, 74, 0.6) !important;
}

html[data-theme="light"] .status.bad {
  color: #991b1b !important;
  background: rgba(239, 68, 68, 0.18) !important;
  border-color: rgba(239, 68, 68, 0.44) !important;
}

html[data-theme="light"] .msg {
  color: #0f172a !important;
  border-color: rgba(15, 23, 42, 0.18) !important;
  background: rgba(255, 255, 255, 0.86) !important;
}

html[data-theme="light"] .msg.ok {
  color: #14532d !important;
  border-color: rgba(22, 163, 74, 0.46) !important;
  background: linear-gradient(180deg, rgba(187, 247, 208, 0.82), rgba(134, 239, 172, 0.62)) !important;
}

html[data-theme="light"] .msg.warn {
  color: #7c2d12 !important;
  border-color: rgba(245, 158, 11, 0.48) !important;
  background: linear-gradient(180deg, rgba(254, 243, 199, 0.90), rgba(253, 186, 116, 0.60)) !important;
}

html[data-theme="light"] .msg a {
  color: #7c2d12 !important;
  border-bottom-color: rgba(124, 45, 18, 0.48) !important;
}

/* =========================
   OVERLAYS (O QUE DEIXAVA O CLARO ESCURO)
   ========================= */

/* LIGHT: bem leve */
html[data-theme="light"] :is(.vignette, .grid-bg, .aurora-bg, .aurora-blob) {
  opacity: 0.06 !important;
}

/* DARK: mais forte */
html[data-theme="dark"] :is(.vignette, .grid-bg, .aurora-bg, .aurora-blob) {
  opacity: 0.22 !important;
}

/* Se a sua vignette tiver gradiente pesado no CSS principal,
   isso garante que no LIGHT ela não escureça o layout */
html[data-theme="light"] .vignette{
  background: radial-gradient(60% 60% at 50% 30%, rgba(0,0,0,.04), rgba(0,0,0,.10)) !important;
}

html[data-theme="dark"] .vignette{
  background: radial-gradient(60% 60% at 50% 30%, rgba(0,0,0,.35), rgba(0,0,0,.78)) !important;
}

/* =========================
   Theme Toggle UI (mantive igual)
   ========================= */
.theme-toggle-wrap {
  position: fixed;
  left: 16px;
  bottom: 16px;
  z-index: 2147483000;
}

.theme-toggle-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border: 1px solid var(--theme-toggle-border);
  border-radius: 999px;
  background: var(--theme-toggle-bg);
  color: var(--theme-toggle-text);
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.22);
  padding: 9px 12px;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-size: 12px;
  font-weight: 800;
  letter-spacing: 0.2px;
  cursor: pointer;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.theme-toggle-btn:hover {
  transform: translateY(-1px);
  filter: brightness(1.04);
}

.theme-toggle-btn:active {
  transform: translateY(0);
}

.theme-toggle-icon {
  width: 14px;
  height: 14px;
  border-radius: 999px;
  border: 2px solid currentColor;
  display: inline-block;
  position: relative;
}

.theme-toggle-btn[data-theme="dark"] .theme-toggle-icon {
  background: #dce6f8;
  border-color: #dce6f8;
  box-shadow: inset -4px 0 0 0 #0b1321;
}

.theme-toggle-btn[data-theme="light"] .theme-toggle-icon {
  background: #f8cb2c;
  border-color: #d9a70a;
  box-shadow: 0 0 0 3px rgba(249, 190, 14, 0.22);
}

@media (max-width: 700px) {
  .theme-toggle-wrap {
    left: 12px;
    bottom: 12px;
  }

  .theme-toggle-btn {
    padding: 8px 10px;
    font-size: 11px;
  }
}

@media print {
  .theme-toggle-wrap {
    display: none !important;
  }
}
